<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>KBC Quiz</title>

<style>
body{
    background:#000428;
    background:linear-gradient(to right,#004e92,#000428);
    font-family:Arial;
    color:white;
    text-align:center;
    margin:0;
    padding:20px;
}
h1{font-size:40px;}

#question{
    font-size:26px;
    margin:30px 0;
}

.option{
    display:block;
    background:#1e3c72;
    margin:12px auto;
    padding:15px;
    width:60%;
    border-radius:10px;
    cursor:pointer;
    font-size:18px;
    transition:0.3s;
}

.option:hover{
    background:#2a5298;
}

.correct{background:green !important;}
.wrong{background:red !important;}
</style>
</head>
<body>

<h1>Kaun Banega Crorepati</h1>
<div id="question">Click anywhere to start</div>
<div id="options"></div>
<h2 id="score">Score: 0</h2>

<!-- Smooth suspense music -->
<audio id="bgMusic" loop>
<source src="https://assets.mixkit.co/music/preview/mixkit-mysterious-suspense-116.mp3" type="audio/mpeg">
</audio>

<script>
// ------------------ QUESTIONS ------------------
let questions = [
{q:"Which river flows through Nashik?", o:["Ganga","Godavari","Yamuna","Krishna"], a:1},
{q:"Trimbakeshwar is famous for?", o:["Temple","Fort","Airport","Museum"], a:0},
{q:"Capital of Maharashtra?", o:["Pune","Mumbai","Nagpur","Nashik"], a:1},
{q:"Largest planet?", o:["Earth","Mars","Jupiter","Venus"], a:2},
{q:"Who is Prime Minister of India (2025)?", o:["Modi","Rahul Gandhi","Shah","Yogi"], a:0},
{q:"India's national animal?", o:["Lion","Tiger","Elephant","Leopard"], a:1},
{q:"Which festival is famous in Nashik?", o:["Kumbh Mela","Diwali","Holi","Bihu"], a:0},
{q:"Sun rises in?", o:["West","East","North","South"], a:1},
{q:"Which gas do plants take?", o:["Oxygen","Nitrogen","Carbon dioxide","Helium"], a:2},
{q:"Currency of India?", o:["Dollar","Rupee","Euro","Yen"], a:1},
{q:"Who wrote National Anthem?", o:["Tagore","Gandhi","Nehru","Kalam"], a:0},
{q:"Which is a programming language?", o:["Python","Cobra","Lion","Tiger"], a:0},
{q:"Which city is wine capital of India?", o:["Nashik","Pune","Delhi","Jaipur"], a:0},
{q:"Which planet is red?", o:["Mars","Earth","Saturn","Mercury"], a:0},
{q:"Fastest land animal?", o:["Cheetah","Tiger","Horse","Dog"], a:0},
];

// Shuffle questions
questions.sort(()=>Math.random()-0.5);

// ------------------ MUSIC ------------------
const music = document.getElementById("bgMusic");

document.body.addEventListener("click",()=>{
    music.volume=0.25;
    music.play().catch(()=>{});
},{once:true});

// ------------------ VOICE ------------------
let voices=[];
speechSynthesis.onvoiceschanged=()=>{
    voices=speechSynthesis.getVoices();
};

function speak(text){
    speechSynthesis.cancel();
    let msg=new SpeechSynthesisUtterance(text);

    // Try deep male English voice
    let voice =
        voices.find(v=>v.name.toLowerCase().includes("male") && v.lang.includes("en")) ||
        voices.find(v=>v.lang.includes("en-IN")) ||
        voices.find(v=>v.lang.includes("en-GB")) ||
        voices.find(v=>v.lang.includes("en-US")) ||
        voices[0];

    msg.voice=voice;
    msg.rate=0.8;
    msg.pitch=0.6; // deeper tone
    speechSynthesis.speak(msg);
}

// ------------------ GAME ------------------
let index=0;
let score=0;
let locked=false;

function loadQuestion(){
    locked=false;

    if(index>=questions.length){
        document.getElementById("question").innerText="Game Over! Final Score: "+score;
        document.getElementById("options").innerHTML="";
        speak("Game over. Your final score is "+score);
        music.pause();
        return;
    }

    let q=questions[index];
    document.getElementById("question").innerText=q.q;
    let optDiv=document.getElementById("options");
    optDiv.innerHTML="";

    speak("Here is your question. "+q.q);

    q.o.forEach((opt,i)=>{
        let btn=document.createElement("div");
        btn.className="option";
        btn.innerText=opt;
        btn.onclick=()=>selectAnswer(btn,i);
        optDiv.appendChild(btn);
    });
}

function selectAnswer(btn,i){
    if(locked) return;
    locked=true;
    music.pause();

    let correct=questions[index].a;
    let options=document.getElementsByClassName("option");

    if(i===correct){
        btn.classList.add("correct");
        score++;
        speak("Computer ji, lock kiya jaye. That is absolutely correct.");
    }else{
        btn.classList.add("wrong");
        options[correct].classList.add("correct");
        speak("Computer ji, lock kiya jaye. That is incorrect.");
    }

    document.getElementById("score").innerText="Score: "+score;

    setTimeout(()=>{
        index++;
        music.play();
        loadQuestion();
    },3000);
}

// Start first question after click
document.body.addEventListener("click",()=>{
    if(index===0 && document.getElementById("question").innerText.includes("Click")){
        loadQuestion();
    }
},{once:true});

</script>
</body>
</html>
